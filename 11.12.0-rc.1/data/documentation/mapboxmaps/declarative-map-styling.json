{"abstract":[{"type":"text","text":"Simplify runtime style manipulation with declarative syntax."}],"kind":"article","schemaVersion":{"patch":0,"major":0,"minor":3},"hierarchy":{"paths":[["doc:\/\/com.mapbox.MapboxMaps\/documentation\/Overview","doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps"]]},"sections":[],"primaryContentSections":[{"kind":"content","content":[{"text":"Overview","anchor":"Overview","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Starting from version "},{"type":"codeVoice","code":"11.4.0-beta.1"},{"type":"text","text":" of Mapbox Maps SDK you can now use a declarative approach to add or update style primitives such as Sources, Layers, Images, and Lights at runtime. This paradigm simplifies working with all Mapbox styles at runtime and works well in SwiftUI and UIKit applications."}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Declarative styling is available starting from iOS 13."}]}],"name":"Note","type":"aside","style":"note"},{"anchor":"Getting-Started","level":2,"text":"Getting Started","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"In UIKit applications you can use the ","type":"text"},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/StyleManager\/setMapStyleContent(content:)","isActive":true,"type":"reference"},{"type":"text","text":" method, which is available in "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/MapboxMap"},{"type":"text","text":" and "},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Snapshotter","type":"reference","isActive":true},{"type":"text","text":" instances."}]},{"syntax":"swift","type":"codeListing","code":["\/\/ UIKit","let mapView = MapView()","mapView.mapboxMap.setMapStyleContent {","    VectorSource(id: \"traffic-source\")","        .tiles([\"...\"])","","    LineLayer(id: \"traffic-layer\", source: \"traffic-source\")","        .lineColor(.red)","}"]},{"inlineContent":[{"text":"In SwiftUI applications, simply place the style primitives inside the ","type":"text"},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Map","isActive":true,"type":"reference"},{"type":"text","text":" content:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["\/\/ SwiftUI","Map {","    VectorSource(id: \"traffic\")","        .tiles([\"...\"])","","    LineLayer(id: \"traffic-layer\", source: \"traffic\")","        .lineColor(.red)","}"]},{"style":"important","type":"aside","content":[{"inlineContent":[{"type":"text","text":"You don’t need to observe any events to modify the map style. Changes will be automatically applied when the map style is loaded."}],"type":"paragraph"}],"name":"Important"},{"level":2,"text":"Styling Primitives","anchor":"Styling-Primitives","type":"heading"},{"inlineContent":[{"text":"Style primitives are pieces of ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/MapStyleContent"},{"type":"text","text":" that can be added, updated, and removed at runtime. These primitives represent the data sources and visualization choices for your map:"}],"type":"paragraph"},{"type":"table","header":"row","rows":[[[{"inlineContent":[{"type":"text","text":"Category"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"text":"Types supported","type":"text"}]}]],[[{"inlineContent":[{"type":"codeVoice","code":"Source"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/VectorSource","type":"reference"},{"type":"text","text":", "},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/RasterSource","type":"reference","isActive":true},{"text":", ","type":"text"},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/RasterDemSource","type":"reference","isActive":true},{"type":"text","text":", "},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/GeoJSONSource","isActive":true,"type":"reference"},{"text":", ","type":"text"},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/ImageSource","type":"reference","isActive":true},{"type":"text","text":", "},{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Model","isActive":true},{"type":"text","text":", "},{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/CustomGeometrySource","isActive":true},{"type":"text","text":" (partial), "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/CustomRasterSource"},{"type":"text","text":" (partial)"}]}]],[[{"inlineContent":[{"code":"Layer","type":"codeVoice"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/FillLayer"},{"type":"text","text":", "},{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/LineLayer","isActive":true},{"text":", ","type":"text"},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/SymbolLayer","type":"reference","isActive":true},{"text":", ","type":"text"},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/CircleLayer","type":"reference","isActive":true},{"text":", ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/HeatmapLayer"},{"type":"text","text":", "},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/FillExtrusionLayer","isActive":true,"type":"reference"},{"text":", ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/RasterLayer"},{"type":"text","text":", "},{"isActive":true,"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/HillshadeLayer","type":"reference"},{"type":"text","text":", "},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/BackgroundLayer","type":"reference","isActive":true},{"text":", ","type":"text"},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/LocationIndicatorLayer","isActive":true,"type":"reference"},{"type":"text","text":", "},{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/SkyLayer","isActive":true},{"type":"text","text":", "},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/ModelLayer","isActive":true,"type":"reference"},{"type":"text","text":", "},{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/SlotLayer","isActive":true},{"type":"text","text":", "},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/CustomLayer","isActive":true,"type":"reference"},{"type":"text","text":" (partial), "},{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/ClipLayer","isActive":true},{"type":"text","text":", "},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/RasterParticleLayer","type":"reference","isActive":true},{"text":".","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"code":"Lights","type":"codeVoice"}]}],[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/FlatLight","isActive":true,"type":"reference"},{"type":"text","text":", "},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/AmbientLight","isActive":true,"type":"reference"},{"type":"text","text":", "},{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/DirectionalLight","isActive":true}]}]],[[{"type":"paragraph","inlineContent":[{"code":"Map properties","type":"codeVoice"}]}],[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Projection","isActive":true},{"type":"text","text":", "},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Atmosphere","isActive":true,"type":"reference"},{"type":"text","text":", "},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Terrain"},{"type":"text","text":", "},{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/TransitionOptions-swift.struct","isActive":true}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"code":"Fragments","type":"codeVoice"}]}],[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/StyleImport","isActive":true,"type":"reference"}]}]]]},{"type":"paragraph","inlineContent":[{"text":"All of them can be used inside of ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/MapStyleContentBuilder"},{"text":" (UIKit) or ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/MapContentBuilder"},{"type":"text","text":" (SwiftUI). You can use declarative syntax to modify the properties of your style primitives when you add them to your map. If you update these properties the changes will be reflected on your map."}]},{"syntax":"swift","code":["\/\/\/ Create an atmosphere primitive and set properties for range, start intensity, and color","Atmosphere()","    .range(start: 0, end: 12)","    .horizonBlend(0.1)","    .starIntensity(0.2)","    .color(StyleColor(red: 240, green: 196, blue: 152, alpha: 1)!)","    .highColor(StyleColor(red: 221, green: 209, blue: 197, alpha: 1)!)","    .spaceColor(StyleColor(red: 153, green: 180, blue: 197, alpha: 1)!)"],"type":"codeListing"},{"type":"heading","level":3,"anchor":"Using-Style-Primitives-Conditionally","text":"Using Style Primitives Conditionally"},{"type":"paragraph","inlineContent":[{"text":"You can also use conditionals to add and remove map style primitives. In the example below, ","type":"text"},{"type":"codeVoice","code":"useTerrain"},{"type":"text","text":" is a variable controlled by your code, perhaps toggled when a user selects a button or changes a setting. When true, the Style Projection is set to Globe, terrain data is added to a RasterDem source and visualized with a Terrain map content. When toggled false, the terrain source and content are removed and the project is set to Mercator. Other content on the map is not affected by this change so updates are lightweight."}]},{"tabs":[{"title":"Swift UI","content":[{"code":["@State var useTerrain = true","","var body: some View {","    Map {","        if useTerrain {","            StyleProjection(name: .globe)","            RasterDemSource(id: \"mapbox-dem\")","                .url(\"mapbox:\/\/mapbox.mapbox-terrain-dem-v1\")","                .maxzoom(14.0)","            Terrain(sourceId: \"mapbox-dem\")","                .exaggeration(5)","        } else {","            StyleProjection(name: .mercator)","        }","    }","}"],"type":"codeListing","syntax":"swift"}]},{"title":"UI Kit","content":[{"code":["var useTerrain = true","","\/\/ To change your style content you should set new map primitives using","\/\/ ``StyleManager\/setMapStyleContent(content:)`` like below.","\/\/ This will fully change the displayed style content,","\/\/ so be sure to include all the content you want.","func updateStyle(useTerrain: Bool) {","    mapView.mapboxMap.setMapStyleContent {","        if useTerrain {","            StyleProjection(name: .globe)","            RasterDemSource(id: \"mapbox-dem\")","                .url(\"mapbox:\/\/mapbox.mapbox-terrain-dem-v1\")","                .maxzoom(14.0)","            Terrain(sourceId: \"mapbox-dem\")","                .exaggeration(5)","        } else {","            StyleProjection(name: .mercator)","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"content":[{"inlineContent":[{"text":"It is totally fine to call the ","type":"text"},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/StyleManager\/setMapStyleContent(content:)","isActive":true,"type":"reference"},{"text":" every time you need to update just a part of the content. All updates are made incrementally, meaning that elements which haven’t changed won’t be re-added unnecessarily. If you experience a performance issue, please refer to the ","type":"text"},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Declarative-Map-Styling#Performance-Optimization","type":"reference","isActive":true},{"text":" section.","type":"text"}],"type":"paragraph"}],"name":"Tip","style":"tip","type":"aside"}]}],"type":"tabNavigator"},{"type":"heading","text":"Building Custom Style Components","level":3,"anchor":"Building-Custom-Style-Components"},{"inlineContent":[{"text":"You can create your own style components in addition to build-in styling primitives. Defining your own components gives you greater control over when the content is updated, and allows for cleaner organization of your code.","type":"text"}],"type":"paragraph"},{"type":"aside","content":[{"inlineContent":[{"text":"If you are familiar with SwiftUI principles, the custom style components follow the same pattern.","type":"text"}],"type":"paragraph"}],"name":"Tip","style":"tip"},{"type":"paragraph","inlineContent":[{"text":"To create a custom style component, declare a new struct which conforms to ","type":"text"},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/MapStyleContent","type":"reference","isActive":true},{"type":"text","text":" and add your primitives to the "},{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/MapStyleContent\/body-swift.property","isActive":true},{"type":"text","text":" property."}]},{"type":"codeListing","code":["\/\/\/ A custom style component","struct CarModel: MapStyleContent {","    var body: some MapStyleContent {","        GeoJSONSource(id: \"models-geojson\")","            .data(.featureCollection(carFeatureCollection))","","        Model(","            id: \"car\",","            uri: Bundle.main.url(forResource: \"sportcar\", withExtension: \"glb\")!","        )","","        ModelLayer(id: \"models\", source: \"models-geojson\")","            .modelId(Exp(.get) { \"model\" })","            .modelType(.common3d)","            .modelScale([40, 40, 40])","            .modelTranslation([0, 0, 0])","            .modelRotation([0, 0, 90])","            .modelOpacity(0.7)","    }","}","","\/\/\/ Usage:","Map {","    CarModel()","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"The code above creates a ","type":"text"},{"code":"CarModel","type":"codeVoice"},{"type":"text","text":" component which in turn contains all primitives to display a sport care Model on your map: the "},{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/GeoJSONSource","isActive":true},{"text":" for the data, the ","type":"text"},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Model","type":"reference","isActive":true},{"text":" to display, and the ","type":"text"},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/ModelLayer","isActive":true,"type":"reference"},{"text":" used to position the model. Add your ","type":"text"},{"type":"codeVoice","code":"CarModelPrimitive"},{"type":"text","text":" to your style body just like Mapbox style primitives."}]},{"name":"Warning","style":"warning","type":"aside","content":[{"inlineContent":[{"type":"text","text":"We don’ recommend to use "},{"type":"codeVoice","code":"@State"},{"type":"text","text":" or "},{"code":"@Binding","type":"codeVoice"},{"text":" in your custom component. Instead, use ","type":"text"},{"type":"codeVoice","code":"@State"},{"text":" in the SwiftUI views and pass data to custom components as properties.","type":"text"}],"type":"paragraph"}]},{"anchor":"Content-positioning","text":"Content positioning","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"One of the most important properties of declarative styling is stable content ordering. Essentially, this means that all layers defined in the declarative description will be positioned on the map relative to each other, following a similar pattern as "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/zstack","isActive":true},{"type":"text","text":"."}],"type":"paragraph"},{"syntax":"swift","code":["let coordinate = CLLocationCoordinate2D(latitude: 60.167488, longitude: 24.942747)","","var body: some View {","    Map(initialViewport: .camera(center: .init(latitude: 27.2, longitude: -26.9), zoom: 1.53, bearing: 0, pitch: 0)) {","        MapViewAnnotation(coordinate: coordinate) {","            Circle()","                .fill(.purple)","                .frame(width: 40, height: 40)","        }","","        if showYellowPolygon {","            PolygonAnnotation(polygon: Polygon(center: coordinate, radius: 8 * 100, vertices: 60))","                .fillColor(StyleColor(.yellow))","        }","","","        GeoJSONSource(id: \"source\")","            .data(.geometry(.polygon(Polygon(center: coordinate, radius: 4 * 100, vertices: 60))))","","        \/\/\/ The green polygon is displayed on top of the yellow polygon.","        FillLayer(id: \"green\", source: \"source\")","            .fillColor(.green)","            .fillOpacity(0.7)","    }","}"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In the example above, the position will be the following:"}]},{"syntax":null,"code":["Basemap (Standard Style layers) <-- bottom","Yellow polygon","Green Polygon","Purple circle <-- top"],"type":"codeListing"},{"inlineContent":[{"text":"The purple circle displayed on top of all content because View Annotations are always rendered on top of the ","type":"text"},{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Map","isActive":true},{"type":"text","text":" view.  The yellow polygon is always displayed below the green one, even if the "},{"code":"showYellowPolygon","type":"codeVoice"},{"type":"text","text":" property was toggled."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In the declarative API there’s no "},{"isActive":true,"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/LayerPosition","type":"reference"},{"type":"text","text":" to override the positioning. Instead, use new "},{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/SlotLayer","isActive":true},{"text":" and ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Slot"},{"type":"text","text":" constants to have a finer control."}]},{"inlineContent":[{"text":"For example, the Standard Style is shipped with pre-defined slots, such as ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Slot\/middle"},{"text":":","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["Map {","    \/\/\/ The green polygon is displayd in the middle of Standard Style layers.","    FillLayer(id: \"green\", source: \"green-source\")","        .fillColor(.green)","        .slot(.middle)","","    \/\/\/ By default, this layer id displayed on top of other layers.","    FillLayer(id: \"purple\", source: \"purple-source\")","        .fillColor(.purple)","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Using the custom slots let you alter the ordering:"}]},{"code":["Map {","    SlotLayer(id: \"my-custom-slot\")","","    FillLayer(id: \"green\", source: \"green-source\")","        .fillColor(.green)","","    FillLayer(id: \"purple\", source: \"purple-source\")","        .fillColor(.purple)","        .slot(\"my-custom-slot\")","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"In the example above, the purple layer will be displayed below the green one, because it is assigned to the custom ","type":"text"},{"code":"my-custom-slot","type":"codeVoice"},{"type":"text","text":" that comes before the green polygon."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"In general, the ordering rule is as follows:"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"First, the slot matters the most. All layers on the map are ordered by their slot position.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"If there is more than one layer in the slot, they are ordered following the order in the code."}],"type":"paragraph"}]}],"type":"orderedList"},{"text":"Using Layer Position","type":"heading","anchor":"Using-Layer-Position","level":3},{"inlineContent":[{"text":"In some rare use-cases you may want to use ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/LayerPosition"},{"type":"text","text":" with declarative styling. The "},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/SlotLayer"},{"text":" is the only layer that has layer position in the declarative styling API. This effectively resolves the scenario where you need to insert a runtime-added layer between style layers that are part of the Style JSON.","type":"text"},{"type":"text","text":" "},{"text":"Please note that setting both ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/SlotLayer\/slot(_:)"},{"type":"text","text":" and "},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/SlotLayer\/position(_:)"},{"text":" in ","type":"text"},{"type":"codeVoice","code":"SlotLayer"},{"type":"text","text":" is incorrect and the "},{"code":"slot","type":"codeVoice"},{"type":"text","text":" will always have priority over the "},{"code":"position","type":"codeVoice"},{"text":".","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["Map {","    \/\/\/ The \"roads\" layer id comes from the Streets Style.","    SlotLayer(id: \"below-roads\")","        .position(.below(\"roads\"))","","    FillLayer(id: \"square\", source: \"square-data\")","        .fillColor(.systemPink)","        .slot(Slot(rawValue: \"below-roads\")","}",".mapStyle(.streets)"]},{"type":"paragraph","inlineContent":[{"text":"In the example above the ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/FillLayer"},{"text":" will be placed below the ","type":"text"},{"code":"roads","type":"codeVoice"},{"text":" layer from the Streets Style.","type":"text"}]},{"type":"heading","text":"Performance Optimization","anchor":"Performance-Optimization","level":2},{"type":"paragraph","inlineContent":[{"text":"To achieve the best performance, it is recommended to use custom components of ","type":"text"},{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/MapStyleContent","isActive":true},{"text":" or ","type":"text"},{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/MapContent","isActive":true},{"text":" to isolate components updates.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This is because whenever you update the "},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/MapStyleContent","isActive":true,"type":"reference"},{"type":"text","text":" (via "},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/StyleManager\/setMapStyleContent(content:)","isActive":true,"type":"reference"},{"type":"text","text":") or "},{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/MapContent","isActive":true},{"type":"text","text":" (via SwiftUI "},{"type":"codeVoice","code":"@State"},{"type":"text","text":" change) internally the full content tree must be compared with its previous version to perform the most efficient update. Having a larger tree of components instead a flat list makes internal caching to be more efficient."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This is very important if you use a large json arrays inside of styling primitives. Lets consider the following example:"}]},{"syntax":"swift","type":"codeListing","code":["struct MyView: View {","    @State var features: FeatureCollection?","    @State var counter = 0","","    var body: some View {","        Map {","            if let features {","                LineLayer(id: \"route\", source: \"route-source\")","                GeoJSONSource(id: \"route-source\")","                    \/\/\/ WARNING: This code may be not optimal for large feature collection.","                    .data(.featureCollection(features))","            }","        }","        .onAppear {","            features = loadHeavyGeojson()","        }","        Button(\"Trigger update \\(counter)\") {","            \/\/\/ Counter updates here will trigger the `body` re-evaluation. This in turn","            \/\/\/ triggers the Map update that need to check if the `features` are changed.","            \/\/\/ This may be a costly operation.","            counter += 1","        }","    }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This code may not be optimal, because on every "},{"type":"codeVoice","code":"View.body"},{"type":"text","text":" re-evaluation, the large feature set needs to be re-evaluated too."}]},{"inlineContent":[{"text":"To optimize it, create a custom component that will consume data by a reference type instead. In the example below, the ","type":"text"},{"type":"codeVoice","code":"RouteComponent.body"},{"type":"text","text":" will be re-evaluated only when the actual "},{"code":"RouteData","type":"codeVoice"},{"text":" object is changed. If only the ","type":"text"},{"code":"counter","type":"codeVoice"},{"type":"text","text":" is updated, the large route JSON won’t be re-evaluated."}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["struct MyView: View {","    \/\/\/ A simple reference wrapper around FeatureCollection.","    private class RouteData {","        let features: FeatureCollection","        init(features: FeatureCollection) { self.features = features }","    }","","    \/\/\/ A custom route component that renders the line layer and creates the data source for it.","    private struct RouteComponent: MapContent {","        \/\/\/ The `body` is called only when component's properties are changed.","        \/\/\/ In this case the `route` is a reference type, which guarantees the fast equality check.","        let route: RouteData","","        var body: some MapContent {","            LineLayer(id: \"route\", source: \"route-source\")","            GeoJSONSource(id: \"route-source\")","                .data(.featureCollection(route.features))","        }","    }","","    @State private var routeData: RouteData?","    @State private var counter = 0","","    var body: some View {","        Map {","            if let routeData {","                RouteComponent(route: routeData)","            }","        }","        .onAppear {","            routeData = RouteData(features: loadHeavyGeojson())","        }","","        Button(\"Trigger update \\(counter)\") {","            \/\/\/ Update of the counter state won't trigger the RouteComponent.body evaluation because","            \/\/\/ routeData points to the same data.","            counter += 1","        }","","        Button(\"Update the route\") {","            \/\/\/ This will correctly update the rendered route, only once.","            routeData = RouteData(features: loadANewVersionOfRoute())","        }","    }","}"]},{"inlineContent":[{"type":"text","text":"For reference, see the "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/mapbox\/mapbox-maps-ios\/blob\/main\/Sources\/Examples\/Swift%20UI%20Examples\/DynamicStyleExample.swift"},{"type":"text","text":" in the Examples application."}],"type":"paragraph"}]}],"metadata":{"roleHeading":"Article","role":"article","modules":[{"name":"MapboxMaps"}],"title":"Declarative Map Styling"},"seeAlsoSections":[{"anchor":"Articles","generated":true,"title":"Articles","identifiers":["doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Migrate-to-v11","doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/SwiftUI-User-Guide","doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Map-Content-Gestures-User-Guide","doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Work-with-visionOS"]}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Declarative-Map-Styling"},"references":{"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/MapStyleContentBuilder":{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/MapStyleContentBuilder","type":"topic","title":"MapStyleContentBuilder","fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"text":"MapStyleContentBuilder","kind":"identifier"}],"url":"\/documentation\/mapboxmaps\/mapstylecontentbuilder","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"MapStyleContentBuilder"}],"abstract":[{"text":"A result builder that creates map style content from closures you provide.","type":"text"}],"kind":"symbol"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/TransitionOptions-swift.struct":{"abstract":[{"type":"text","text":"The "},{"code":"TransitionOptions","type":"codeVoice"},{"type":"text","text":" control timing for the interpolation between a transitionable style"},{"type":"text","text":" "},{"type":"text","text":"property’s previous value and new value. These can be used to define the style default property"},{"type":"text","text":" "},{"type":"text","text":"transition behavior. Also, any transitionable style property may also have its own "},{"code":"-transition","type":"codeVoice"},{"type":"text","text":" "},{"text":"property that defines specific transition timing for that specific layer property, overriding","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the global transition values."}],"url":"\/documentation\/mapboxmaps\/transitionoptions-swift.struct","title":"TransitionOptions","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"TransitionOptions"}],"navigatorTitle":[{"text":"TransitionOptions","kind":"identifier"}],"type":"topic","role":"symbol","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/TransitionOptions-swift.struct","kind":"symbol"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/ModelLayer":{"type":"topic","url":"\/documentation\/mapboxmaps\/modellayer","tags":[{"text":"SPI","type":"spi"}],"title":"ModelLayer","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"ModelLayer"}],"abstract":[{"text":"A layer to render 3D Models.","type":"text"}],"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/ModelLayer","kind":"symbol","navigatorTitle":[{"text":"ModelLayer","kind":"identifier"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Model":{"title":"Model","navigatorTitle":[{"text":"Model","kind":"identifier"}],"kind":"symbol","url":"\/documentation\/mapboxmaps\/model","abstract":[{"type":"text","text":"A structure represeting a Model"}],"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Model","type":"topic","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Model"}],"role":"symbol"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/StyleManager/setMapStyleContent(content:)":{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/StyleManager\/setMapStyleContent(content:)","title":"setMapStyleContent(content:)","url":"\/documentation\/mapboxmaps\/stylemanager\/setmapstylecontent(content:)","type":"topic","role":"symbol","abstract":[{"type":"text","text":"Sets style content to the map."}],"kind":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"setMapStyleContent","kind":"identifier"},{"text":"(","kind":"text"},{"text":"content","kind":"externalParam"},{"kind":"text","text":": () -> some "},{"preciseIdentifier":"s:10MapboxMaps15MapStyleContentP","kind":"typeIdentifier","text":"MapStyleContent"},{"kind":"text","text":")"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Declarative-Map-Styling":{"url":"\/documentation\/mapboxmaps\/declarative-map-styling","kind":"article","type":"topic","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Declarative-Map-Styling","title":"Declarative Map Styling","abstract":[{"text":"Simplify runtime style manipulation with declarative syntax.","type":"text"}],"role":"article"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/MapContentBuilder":{"kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"MapContentBuilder"}],"abstract":[{"type":"text","text":"A result builder that creates map and style content from closures you provide."},{"type":"text","text":" "},{"type":"text","text":"Allows to mix content which is used in  StyleDSL API "},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Declarative-Map-Styling","isActive":true,"type":"reference"},{"type":"text","text":" and in SwiftUI API "},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/SwiftUI-User-Guide"}],"url":"\/documentation\/mapboxmaps\/mapcontentbuilder","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"MapContentBuilder","kind":"identifier"}],"title":"MapContentBuilder","role":"symbol","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/MapContentBuilder","type":"topic"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/MapContent":{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/MapContent","type":"topic","title":"MapContent","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"MapContent","kind":"identifier"}],"url":"\/documentation\/mapboxmaps\/mapcontent","role":"symbol","navigatorTitle":[{"text":"MapContent","kind":"identifier"}],"abstract":[{"text":"A protocol used to create any type of ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Map"},{"text":" content, such as annotations, location indicator, layers, sources, lights, and more.","type":"text"}],"kind":"symbol"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/RasterDemSource":{"role":"symbol","abstract":[{"type":"text","text":"A RGB-encoded raster DEM source"}],"navigatorTitle":[{"text":"RasterDemSource","kind":"identifier"}],"type":"topic","url":"\/documentation\/mapboxmaps\/rasterdemsource","fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"kind":"identifier","text":"RasterDemSource"}],"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/RasterDemSource","title":"RasterDemSource","kind":"symbol"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/SwiftUI-User-Guide":{"kind":"article","abstract":[{"text":"Use Mapbox Maps in SwiftUI applications.","type":"text"}],"url":"\/documentation\/mapboxmaps\/swiftui-user-guide","title":"SwiftUI User Guide","role":"article","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/SwiftUI-User-Guide","type":"topic"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/CircleLayer":{"navigatorTitle":[{"text":"CircleLayer","kind":"identifier"}],"kind":"symbol","title":"CircleLayer","type":"topic","abstract":[{"text":"A filled circle.","type":"text"}],"role":"symbol","url":"\/documentation\/mapboxmaps\/circlelayer","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/CircleLayer","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"CircleLayer"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/MapStyleContent/body-swift.property":{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/MapStyleContent\/body-swift.property","title":"body","url":"\/documentation\/mapboxmaps\/mapstylecontent\/body-swift.property","type":"topic","role":"symbol","abstract":[{"text":"Provides the children style contents.","type":"text"}],"kind":"symbol","required":true,"fragments":[{"kind":"keyword","text":"var"},{"text":" ","kind":"text"},{"text":"body","kind":"identifier"},{"text":": ","kind":"text"},{"text":"Self","kind":"typeIdentifier"},{"text":".","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:10MapboxMaps15MapStyleContentP4BodyQa","text":"Body"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Atmosphere":{"fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"text":"Atmosphere","kind":"identifier"}],"title":"Atmosphere","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Atmosphere","url":"\/documentation\/mapboxmaps\/atmosphere","kind":"symbol","abstract":[{"text":"A style’s fog property is a global effect that improves depth perception by fading out distant objects.","type":"text"}],"navigatorTitle":[{"text":"Atmosphere","kind":"identifier"}],"type":"topic","role":"symbol"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Work-with-visionOS":{"type":"topic","kind":"article","abstract":[{"text":"Use Mapbox Maps in native applications for Apple Vision Pro.","type":"text"}],"role":"article","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Work-with-visionOS","title":"Work with visionOS","url":"\/documentation\/mapboxmaps\/work-with-visionos"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/CustomRasterSource":{"role":"symbol","abstract":[{"text":"Describes a Custom Raster Source to be used in the style.","type":"text"}],"navigatorTitle":[{"text":"CustomRasterSource","kind":"identifier"}],"type":"topic","url":"\/documentation\/mapboxmaps\/customrastersource","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"CustomRasterSource"}],"tags":[{"type":"spi","text":"SPI"}],"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/CustomRasterSource","title":"CustomRasterSource","kind":"symbol"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/HillshadeLayer":{"type":"topic","abstract":[{"type":"text","text":"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles."}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"HillshadeLayer"}],"navigatorTitle":[{"text":"HillshadeLayer","kind":"identifier"}],"title":"HillshadeLayer","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/HillshadeLayer","url":"\/documentation\/mapboxmaps\/hillshadelayer","role":"symbol","kind":"symbol"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Snapshotter":{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Snapshotter","role":"symbol","abstract":[{"text":"A utility class for capturing styled map snapshots.","type":"text"}],"kind":"symbol","url":"\/documentation\/mapboxmaps\/snapshotter","title":"Snapshotter","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Snapshotter","kind":"identifier"}],"navigatorTitle":[{"text":"Snapshotter","kind":"identifier"}],"type":"topic"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/ImageSource":{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/ImageSource","kind":"symbol","url":"\/documentation\/mapboxmaps\/imagesource","title":"ImageSource","abstract":[{"text":"An image data source.","type":"text"}],"type":"topic","role":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"text":"ImageSource","kind":"identifier"}],"navigatorTitle":[{"kind":"identifier","text":"ImageSource"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps":{"type":"topic","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps","title":"MapboxMaps","role":"collection","url":"\/documentation\/mapboxmaps","abstract":[{"type":"text","text":"Interactive, thoroughly customizable maps for iOS powered by vector tiles and Metal."}],"kind":"symbol"},"doc://com.mapbox.MapboxMaps/documentation/Overview":{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/Overview","abstract":[],"kind":"article","role":"collection","url":"\/documentation\/overview","title":"MapboxMaps Documentation","type":"topic"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/SkyLayer":{"kind":"symbol","url":"\/documentation\/mapboxmaps\/skylayer","navigatorTitle":[{"kind":"identifier","text":"SkyLayer"}],"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/SkyLayer","type":"topic","abstract":[{"text":"A spherical dome around the map that is always rendered behind all other layers.","type":"text"},{"type":"text","text":" "},{"text":"Warning: As of v10.6.0, ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Atmosphere"},{"type":"text","text":" is the preferred method for atmospheric styling. Sky layer is not supported by the globe projection, and will be phased out in future major release."}],"title":"SkyLayer","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"text":"SkyLayer","kind":"identifier"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Declarative-Map-Styling#Performance-Optimization":{"abstract":[],"kind":"section","type":"topic","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Declarative-Map-Styling#Performance-Optimization","title":"Performance Optimization","url":"\/documentation\/mapboxmaps\/declarative-map-styling#Performance-Optimization"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/StyleImport":{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/StyleImport","type":"topic","title":"StyleImport","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"StyleImport","kind":"identifier"}],"url":"\/documentation\/mapboxmaps\/styleimport","role":"symbol","navigatorTitle":[{"text":"StyleImport","kind":"identifier"}],"abstract":[{"type":"text","text":"Map style import."}],"kind":"symbol"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/CustomLayer":{"abstract":[{"type":"text","text":"Layer with custom rendering implementation"}],"navigatorTitle":[{"text":"CustomLayer","kind":"identifier"}],"kind":"symbol","tags":[{"type":"spi","text":"SPI"}],"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/CustomLayer","url":"\/documentation\/mapboxmaps\/customlayer","title":"CustomLayer","role":"symbol","type":"topic","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"CustomLayer"}]},"https://developer.apple.com/documentation/swiftui/zstack":{"titleInlineContent":[{"text":"SwiftUI’s ZStack","type":"text"}],"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/zstack","title":"SwiftUI’s ZStack","url":"https:\/\/developer.apple.com\/documentation\/swiftui\/zstack"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/SlotLayer/position(_:)":{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/SlotLayer\/position(_:)","url":"\/documentation\/mapboxmaps\/slotlayer\/position(_:)","role":"symbol","abstract":[{"type":"text","text":"Positions this layer at a specified position."}],"fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"position"},{"text":"(","kind":"text"},{"preciseIdentifier":"s:14MapboxCoreMaps13LayerPositionO","text":"LayerPosition","kind":"typeIdentifier"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:10MapboxMaps15LayerAtPositionV","text":"LayerAtPosition"},{"kind":"text","text":"<"},{"preciseIdentifier":"s:10MapboxMaps9SlotLayerV","kind":"typeIdentifier","text":"SlotLayer"},{"text":">","kind":"text"}],"title":"position(_:)","type":"topic","kind":"symbol"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/LineLayer":{"url":"\/documentation\/mapboxmaps\/linelayer","role":"symbol","type":"topic","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/LineLayer","navigatorTitle":[{"kind":"identifier","text":"LineLayer"}],"fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"text":"LineLayer","kind":"identifier"}],"kind":"symbol","abstract":[{"text":"A stroked line.","type":"text"}],"title":"LineLayer"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/MapboxMap":{"role":"symbol","navigatorTitle":[{"kind":"identifier","text":"MapboxMap"}],"abstract":[{"type":"text","text":"Provides access to the map model, including the camera, style, observable map events,"},{"type":"text","text":" "},{"type":"text","text":"and querying rendered features."}],"title":"MapboxMap","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"MapboxMap","kind":"identifier"}],"kind":"symbol","url":"\/documentation\/mapboxmaps\/mapboxmap","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/MapboxMap","type":"topic"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/LocationIndicatorLayer":{"abstract":[{"text":"Location Indicator layer.","type":"text"}],"navigatorTitle":[{"kind":"identifier","text":"LocationIndicatorLayer"}],"kind":"symbol","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/LocationIndicatorLayer","url":"\/documentation\/mapboxmaps\/locationindicatorlayer","title":"LocationIndicatorLayer","role":"symbol","type":"topic","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"LocationIndicatorLayer"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/FillExtrusionLayer":{"abstract":[{"type":"text","text":"An extruded (3D) polygon."}],"type":"topic","kind":"symbol","role":"symbol","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/FillExtrusionLayer","title":"FillExtrusionLayer","navigatorTitle":[{"text":"FillExtrusionLayer","kind":"identifier"}],"fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"text":"FillExtrusionLayer","kind":"identifier"}],"url":"\/documentation\/mapboxmaps\/fillextrusionlayer"},"https://github.com/mapbox/mapbox-maps-ios/blob/main/Sources/Examples/Swift%20UI%20Examples/DynamicStyleExample.swift":{"titleInlineContent":[{"type":"text","text":"DynamicStylingExample"}],"identifier":"https:\/\/github.com\/mapbox\/mapbox-maps-ios\/blob\/main\/Sources\/Examples\/Swift%20UI%20Examples\/DynamicStyleExample.swift","title":"DynamicStylingExample","type":"link","url":"https:\/\/github.com\/mapbox\/mapbox-maps-ios\/blob\/main\/Sources\/Examples\/Swift%20UI%20Examples\/DynamicStyleExample.swift"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/SlotLayer":{"type":"topic","title":"SlotLayer","abstract":[{"text":"Marks the position of a slot.","type":"text"}],"kind":"symbol","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/SlotLayer","navigatorTitle":[{"text":"SlotLayer","kind":"identifier"}],"role":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"SlotLayer"}],"url":"\/documentation\/mapboxmaps\/slotlayer"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/MapStyleContent":{"type":"topic","abstract":[{"text":"A protocol used to create any type of  map style content, such as layers, sources, lighting and others.","type":"text"}],"fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"MapStyleContent","kind":"identifier"}],"navigatorTitle":[{"text":"MapStyleContent","kind":"identifier"}],"title":"MapStyleContent","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/MapStyleContent","url":"\/documentation\/mapboxmaps\/mapstylecontent","role":"symbol","kind":"symbol"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Terrain":{"navigatorTitle":[{"kind":"identifier","text":"Terrain"}],"role":"symbol","type":"topic","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Terrain","kind":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"text":"Terrain","kind":"identifier"}],"url":"\/documentation\/mapboxmaps\/terrain","title":"Terrain","abstract":[{"type":"text","text":"The global terrain source."}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/RasterLayer":{"type":"topic","abstract":[{"text":"Raster map textures such as satellite imagery.","type":"text"}],"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"text":"RasterLayer","kind":"identifier"}],"navigatorTitle":[{"text":"RasterLayer","kind":"identifier"}],"title":"RasterLayer","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/RasterLayer","url":"\/documentation\/mapboxmaps\/rasterlayer","role":"symbol","kind":"symbol"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Migrate-to-v11":{"kind":"article","type":"topic","abstract":[{"text":"The Mapbox Maps SDK v11 introduces improvements to how Mapbox works on iOS platforms, as well as changes to how developers use the SDK. This document summarizes the most important changes - such as new features, deprecated APIs, and breaking changes - and walks you through how to upgrade an application using v10 of the Mapbox Maps SDK to v11.","type":"text"}],"role":"article","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Migrate-to-v11","title":"Migrate to v11 from v10","url":"\/documentation\/mapboxmaps\/migrate-to-v11"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/ClipLayer":{"type":"topic","url":"\/documentation\/mapboxmaps\/cliplayer","title":"ClipLayer","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"text":"ClipLayer","kind":"identifier"}],"abstract":[{"text":"Layer that removes 3D content from map.","type":"text"}],"kind":"symbol","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/ClipLayer","navigatorTitle":[{"text":"ClipLayer","kind":"identifier"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Map":{"type":"topic","abstract":[{"type":"text","text":"A SwiftUI view that displays a Mapbox Map."}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Map","kind":"identifier"}],"navigatorTitle":[{"text":"Map","kind":"identifier"}],"title":"Map","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Map","url":"\/documentation\/mapboxmaps\/map","role":"symbol","kind":"symbol"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/RasterParticleLayer":{"type":"topic","url":"\/documentation\/mapboxmaps\/rasterparticlelayer","tags":[{"text":"SPI","type":"spi"}],"title":"RasterParticleLayer","role":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"RasterParticleLayer"}],"abstract":[{"type":"text","text":"Particle animation driven by textures such as wind maps."}],"kind":"symbol","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/RasterParticleLayer","navigatorTitle":[{"kind":"identifier","text":"RasterParticleLayer"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/DirectionalLight":{"kind":"symbol","url":"\/documentation\/mapboxmaps\/directionallight","navigatorTitle":[{"kind":"identifier","text":"DirectionalLight"}],"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/DirectionalLight","type":"topic","abstract":[{"type":"text","text":"A light that has a direction and is located at infinite distance, so its rays are parallel. It simulates the sun light and can cast shadows."}],"title":"DirectionalLight","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"text":"DirectionalLight","kind":"identifier"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/CustomGeometrySource":{"role":"symbol","abstract":[{"text":"Describes a Custom Geometry Source to be used in the style","type":"text"}],"navigatorTitle":[{"kind":"identifier","text":"CustomGeometrySource"}],"type":"topic","url":"\/documentation\/mapboxmaps\/customgeometrysource","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"CustomGeometrySource"}],"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/CustomGeometrySource","title":"CustomGeometrySource","kind":"symbol"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/HeatmapLayer":{"abstract":[{"type":"text","text":"A heatmap."}],"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/HeatmapLayer","url":"\/documentation\/mapboxmaps\/heatmaplayer","role":"symbol","title":"HeatmapLayer","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"HeatmapLayer","kind":"identifier"}],"kind":"symbol","navigatorTitle":[{"text":"HeatmapLayer","kind":"identifier"}],"type":"topic"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Slot":{"type":"topic","url":"\/documentation\/mapboxmaps\/slot","title":"Slot","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"text":"Slot","kind":"identifier"}],"abstract":[{"type":"text","text":"A pre-specified location in the style where layer will be added to"},{"type":"text","text":" "},{"type":"text","text":"(such as on top of existing land layers, but below all labels)."}],"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Slot","kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"Slot"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/FlatLight":{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/FlatLight","role":"symbol","abstract":[{"text":"A global directional light source which is only applied on 3D and hillshade layers. Using this type disables other light sources.","type":"text"}],"kind":"symbol","url":"\/documentation\/mapboxmaps\/flatlight","title":"FlatLight","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"FlatLight"}],"navigatorTitle":[{"text":"FlatLight","kind":"identifier"}],"type":"topic"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/BackgroundLayer":{"kind":"symbol","type":"topic","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"BackgroundLayer"}],"abstract":[{"text":"The background color or pattern of the map.","type":"text"}],"url":"\/documentation\/mapboxmaps\/backgroundlayer","title":"BackgroundLayer","navigatorTitle":[{"kind":"identifier","text":"BackgroundLayer"}],"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/BackgroundLayer","role":"symbol"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/LayerPosition":{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/LayerPosition","role":"symbol","abstract":[{"type":"text","text":"Specifies the position at which a layer will be added when using "},{"code":"Style.addLayer","type":"codeVoice"},{"text":".","type":"text"}],"kind":"symbol","url":"\/documentation\/mapboxmaps\/layerposition","title":"LayerPosition","fragments":[{"text":"enum","kind":"keyword"},{"kind":"text","text":" "},{"text":"LayerPosition","kind":"identifier"}],"navigatorTitle":[{"text":"LayerPosition","kind":"identifier"}],"type":"topic"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/AmbientLight":{"type":"topic","url":"\/documentation\/mapboxmaps\/ambientlight","title":"AmbientLight","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"AmbientLight"}],"abstract":[{"type":"text","text":"An indirect light affecting all objects in the map adding a constant amount of light on them. It has no explicit direction and cannot cast shadows."}],"kind":"symbol","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/AmbientLight","navigatorTitle":[{"kind":"identifier","text":"AmbientLight"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/GeoJSONSource":{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/GeoJSONSource","abstract":[{"text":"A GeoJSON data source.","type":"text"}],"kind":"symbol","role":"symbol","type":"topic","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"GeoJSONSource"}],"title":"GeoJSONSource","navigatorTitle":[{"kind":"identifier","text":"GeoJSONSource"}],"url":"\/documentation\/mapboxmaps\/geojsonsource"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/SymbolLayer":{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/SymbolLayer","kind":"symbol","url":"\/documentation\/mapboxmaps\/symbollayer","type":"topic","abstract":[{"text":"An icon or a text label.","type":"text"}],"title":"SymbolLayer","role":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"text":"SymbolLayer","kind":"identifier"}],"navigatorTitle":[{"text":"SymbolLayer","kind":"identifier"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Projection":{"navigatorTitle":[{"text":"Projection","kind":"identifier"}],"title":"Projection","kind":"symbol","url":"\/documentation\/mapboxmaps\/projection","abstract":[{"text":"A collection of ","type":"text"},{"type":"reference","identifier":"https:\/\/en.wikipedia.org\/wiki\/Web_Mercator_projection","isActive":true},{"text":" projection methods.","type":"text"}],"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Projection","fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"Projection"}],"type":"topic","role":"symbol"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Map-Content-Gestures-User-Guide":{"role":"article","type":"topic","kind":"article","url":"\/documentation\/mapboxmaps\/map-content-gestures-user-guide","abstract":[{"text":"Handle Tap and Long Press gestures on Map, Annotations, and Layers.","type":"text"}],"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Map-Content-Gestures-User-Guide","title":"Map Content Gestures User Guide"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/VectorSource":{"type":"topic","role":"symbol","url":"\/documentation\/mapboxmaps\/vectorsource","navigatorTitle":[{"kind":"identifier","text":"VectorSource"}],"kind":"symbol","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/VectorSource","abstract":[{"text":"A vector tile source.","type":"text"}],"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"text":"VectorSource","kind":"identifier"}],"title":"VectorSource"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/RasterSource":{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/RasterSource","kind":"symbol","url":"\/documentation\/mapboxmaps\/rastersource","abstract":[{"type":"text","text":"A raster tile source."}],"type":"topic","title":"RasterSource","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"RasterSource"}],"navigatorTitle":[{"text":"RasterSource","kind":"identifier"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/SlotLayer/slot(_:)":{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/SlotLayer\/slot(_:)","url":"\/documentation\/mapboxmaps\/slotlayer\/slot(_:)","role":"symbol","abstract":[{"type":"text","text":"The slot this layer is assigned to."},{"text":" ","type":"text"},{"type":"text","text":"If specified, and a slot with that name exists, it will be placed at that position in the layer order."}],"fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"slot","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"typeIdentifier","text":"Slot","preciseIdentifier":"s:10MapboxMaps4SlotV"},{"text":"?) -> ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:10MapboxMaps9SlotLayerV","text":"SlotLayer"}],"title":"slot(_:)","type":"topic","kind":"symbol"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Slot/middle":{"fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"let"},{"text":" ","kind":"text"},{"kind":"identifier","text":"middle"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:10MapboxMaps4SlotV","kind":"typeIdentifier","text":"Slot"},{"text":"?","kind":"text"}],"abstract":[{"type":"text","text":"Above lines (roads, etc.) and behind 3D buildings"}],"kind":"symbol","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Slot\/middle","type":"topic","url":"\/documentation\/mapboxmaps\/slot\/middle","title":"middle","role":"symbol"},"https://en.wikipedia.org/wiki/Web_Mercator_projection":{"titleInlineContent":[{"text":"Spherical Mercator","type":"text"}],"type":"link","identifier":"https:\/\/en.wikipedia.org\/wiki\/Web_Mercator_projection","title":"Spherical Mercator","url":"https:\/\/en.wikipedia.org\/wiki\/Web_Mercator_projection"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/FillLayer":{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/FillLayer","type":"topic","title":"FillLayer","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"text":"FillLayer","kind":"identifier"}],"url":"\/documentation\/mapboxmaps\/filllayer","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"FillLayer"}],"abstract":[{"type":"text","text":"A filled polygon with an optional stroked border."}],"kind":"symbol"}},"variantOverrides":[{"patch":[{"path":"\/identifier\/interfaceLanguage","op":"replace","value":"occ"}],"traits":[{"interfaceLanguage":"occ"}]}]}