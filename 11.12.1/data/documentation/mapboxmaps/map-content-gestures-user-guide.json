{"metadata":{"modules":[{"name":"MapboxMaps"}],"roleHeading":"Article","role":"article","title":"Map Content Gestures User Guide"},"abstract":[{"text":"Handle Tap and Long Press gestures on Map, Annotations, and Layers.","type":"text"}],"hierarchy":{"paths":[["doc:\/\/com.mapbox.MapboxMaps\/documentation\/Overview","doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps"]]},"kind":"article","seeAlsoSections":[{"anchor":"Articles","identifiers":["doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Migrate-to-v11","doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/SwiftUI-User-Guide","doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Declarative-Map-Styling","doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Work-with-visionOS"],"generated":true,"title":"Articles"}],"primaryContentSections":[{"kind":"content","content":[{"level":2,"type":"heading","text":"Overview","anchor":"Overview"},{"inlineContent":[{"type":"text","text":"The map can display different types of content - View Annotations, Layer Annotations, and layers. This guide will walk you through the principles of handling gestures on all of them."}],"type":"paragraph"},{"anchor":"View-Annotations","text":"View Annotations","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"View annotations are the simplest case of handling map content gestures. The view annotations are native views displayed on top of the Map, which means they will handle gestures before the Map, Layers, or Layer Annotations."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In order to handle gestures on view annotations, use any "},{"type":"codeVoice","code":"UIGestureHandler"},{"type":"text","text":" in UIKit, or "},{"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/gestures","type":"reference","isActive":true},{"text":" in SwiftUI.","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["var body: some View {","    Map {","        MapViewAnnotation(coordinate: coordinate) {","            Text(\"üçî\")","                .padding()","                .background(Circle().fill(.green))","                .onTapGesture {","                    print(\"burger is tapped\") \/\/ <- View annotation handle the gesture before the Map view.","                }","        }","    }","}"]},{"type":"heading","text":"Layer Annotations","level":2,"anchor":"Layer-Annotations"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The Layer Annotations are rendered by Metal inside of the map content, which means the standard UIKit or SwiftUI doesn‚Äôt know much about annotations inter-position. However, the Mapbox Maps SDK defines functions to react on Tap and Long Press gestures."}]},{"inlineContent":[{"type":"text","text":"Let‚Äôs take a look at the example below."}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["var body: some View {","    Map {","        let center = CLLocationCoordinate2D(latitude: 60.17195694011002, longitude: 24.945389069265598)","        let polygon = Polygon(center: center, radius: 1000, vertices: 5)","        PolygonAnnotation(polygon: polygon)","            .fillColor(StyleColor(.systemGreen))","            .fillOpacity(0.5)","            .onTapGesture {","                print(\"polygon is tapped\")","            }","            .onLongPressGesture {","                print(\"polygon is long-pressed\")","            }","","        CircleAnnotation(centerCoordinate: center)","            .circleRadius(30)","            .circleColor(StyleColor(.systemBlue))","            .onTapGesture {","                print(\"circle is tapped\")","            }","","        \/\/ The red circle annotation doesn't handle gestures","        CircleAnnotation(centerCoordinate: CLLocationCoordinate2D(latitude: 60.18195694011002, longitude: 24.955389069265598))","            .circleRadius(30)","            .circleColor(StyleColor(.systemRed))","    }","    .onMapTapGesture { context in","        print(\"map is tapped\")","    }","    .onMapLongPressGesture { context in","        print(\"map is long-pressed\")","    }","}"]},{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/static-assets.mapbox.com\/maps\/ios\/documentation\/swiftui_gesture_handling_order_4.png","type":"image"}]},{"inlineContent":[{"type":"text","text":"The example above shows the green "},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/PolygonAnnotation"},{"text":" and the blue ","type":"text"},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/CircleAnnotation","type":"reference","isActive":true},{"type":"text","text":" above it. both of them handle the tap gesture, and polygon annotation additionally handles the long-press gesture. The red circle annotation doesn‚Äôt handle any gestures."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Let‚Äôs see now what happens when the user taps the map at the positions shown above."}],"type":"paragraph"},{"header":"row","type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Tap position"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Printed message"}]}]],[[{"inlineContent":[{"type":"text","text":"1"}],"type":"paragraph"}],[{"inlineContent":[{"type":"codeVoice","code":"circle is tapped"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"2","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"polygon is tapped"}]}]],[[{"inlineContent":[{"text":"3","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"map is tapped"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"4"}]}],[{"type":"paragraph","inlineContent":[{"code":"map is tapped","type":"codeVoice"}]}]]]},{"type":"paragraph","inlineContent":[{"text":"Since the Long Press gesture is only handled by the polygon annotation and the map, the following messages will be printed.","type":"text"}]},{"header":"row","rows":[[[{"inlineContent":[{"text":"Long Press position","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"text":"Printed message","type":"text"}]}]],[[{"inlineContent":[{"type":"text","text":"1 or 2"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"polygon is long-pressed"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"3 or 4"}]}],[{"inlineContent":[{"code":"map is long-pressed","type":"codeVoice"}],"type":"paragraph"}]]],"type":"table"},{"inlineContent":[{"text":"If the gesture handler returns ","type":"text"},{"type":"codeVoice","code":"false"},{"text":", the gesture handling continues with the annotations or layers below it. If the handler returns ","type":"text"},{"code":"true","type":"codeVoice"},{"text":", the propagation stops.","type":"text"},{"type":"text","text":" "},{"text":"In the example below, the circle annotation will handle only the first time, passing all the following taps to the polygon.","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["@State var circleTapHandled = false","","var body: some View {","    Map {","        PolygonAnnotation(...)","            .onTapGesture {","                print(\"polygon is tapped\")","            }","        CircleAnnotation(...)","            .onTapGesture { context in","                if !circleTapHandled {","                    circleTapHandled = true","                    print(\"circle is tapped\")","                }","                return circleTapHandled","            }","    }","}"]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Every gesture handler can receive the ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/InteractionContext"},{"type":"text","text":" that provides additional information about the gesture, such as point and the geographical coordinate."}]}],"style":"note","name":"Note","type":"aside"},{"type":"heading","anchor":"Clustered-Annotations","text":"Clustered Annotations","level":2},{"type":"paragraph","inlineContent":[{"text":"Nearby annotations may be grouped into clusters when the user zooms out the map and Mapbox Maps SDK defines functions to conveniently react on Tap and Long Press gestures on annotation clusters.","type":"text"}]},{"style":"note","type":"aside","name":"Note","content":[{"type":"paragraph","inlineContent":[{"text":"Currently clustering is only supported for ","type":"text"},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/PointAnnotation","type":"reference","isActive":true},{"type":"text","text":"."}]}]},{"inlineContent":[{"type":"text","text":"Example below shows the case where the tap gesture on the cluster is handled and cluster gets expanded by setting the corresponding zoom level."}],"type":"paragraph"},{"type":"codeListing","code":["let clusterOptions = ClusterOptions(circleRadius: .constant(10), circleColor: .constant(StyleColor(.blue)))","","var body: some View {","    Map {","        PointAnnotationGroup(places) { places in","            PointAnnotation(coordinate: place.coordinate)","                .image(named: \"intermediate-pin\")","                .onTapGesture { places.removeAll(where: { $0.id == place.id }) }","        }","        .clusterOptions(clusterOptions)","        .onClusterTapGesture { context in","            withViewportAnimation(.easeIn(duration: 1)) {","                viewport = .camera(center: context.coordinate, zoom: context.expansionZoom)","            }","        }","    }","}"],"syntax":"swift"},{"type":"aside","name":"Note","style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Annotation cluster gesture handlers receive the "},{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/AnnotationClusterGestureContext","isActive":true},{"type":"text","text":" that provides additional information about the gesture, such as point and the geographical coordinate and minimum expansion zoom of the cluster."}]}]},{"level":2,"type":"heading","text":"Layers","anchor":"Layers"},{"inlineContent":[{"type":"text","text":"Annotations are not the only way to show content on the map. You can use Style API via the "},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/StyleManager","type":"reference","isActive":true},{"type":"text","text":" to organize content in layers or use a custom "},{"isActive":true,"type":"reference","identifier":"https:\/\/docs.mapbox.com\/style-spec\/guides\/"},{"type":"text","text":" for displaying larger data sets."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In those cases, layers play a critical role in displaying content, and you can make them interactive too."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The example below shows how to assign the tap handler to the "},{"type":"codeVoice","code":"house-prices"},{"type":"text","text":" layer that is defined in a custom style."}]},{"type":"codeListing","syntax":"swift","code":["var body: some View {","    Map()","        .mapStyle(.customStyle)","        .onLayerTapGesture(\"house-prices\") { queriedFeature, context in","            displayDetails(queriedFeature, coordinate: context.coordinate)","            return true \/\/ Do not propagate the event to the layers and annotations below","        }","}","","extension MapStyle {","    \/\/ The custom style that defines the \"house-prices\" layer.","    static let customStyle = MapStyle(uri: StyleURI(rawValue: \"https:\/\/example.com\/mapbox-custom-style.json\")!)","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The layers handlers follow the same order rule as annotations - the topmost layer will handle the gesture first."}]},{"level":3,"type":"heading","anchor":"Handling-gestures-with-GestureManager","text":"Handling gestures with GestureManager"},{"inlineContent":[{"text":"The examples above use the new SwiftUI API, you can learn more about SwiftUI support in the ","type":"text"},{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/SwiftUI-User-Guide","isActive":true},{"type":"text","text":"."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"However, the same API is accessible via the ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/GestureManager"},{"type":"text","text":" obtained from the "},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/MapView","isActive":true,"type":"reference"},{"type":"text","text":"."}]},{"code":["mapView.gestures.onMapTap.observe { context in","    print(\"Tapped at \\(context.coordinate)\")","}.store(in: &cancelables)","","mapView.gestures.onLayerTapGesture(\"house-prices\") { queriedFeature, context in","    displayDetails(queriedFeature, coordinate: context.coordinate)","}.store(in: &cancelables)"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"type":"text","text":"Please consult the tale below to find the corresponding method."}],"type":"paragraph"},{"type":"table","header":"row","rows":[[[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Map","isActive":true},{"text":" (SwiftUI)","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/GestureManager","isActive":true,"type":"reference"},{"type":"text","text":" (UIKit)"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Map\/onMapTapGesture(perform:)","isActive":true}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/GestureManager\/onMapTap","isActive":true}]}]],[[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Map\/onMapLongPressGesture(perform:)","isActive":true}]}],[{"inlineContent":[{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/GestureManager\/onMapLongPress","type":"reference","isActive":true}],"type":"paragraph"}]],[[{"inlineContent":[{"isActive":true,"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Map\/onLayerTapGesture(_:perform:)","type":"reference"}],"type":"paragraph"}],[{"inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/GestureManager\/onLayerTap(_:handler:)"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Map\/onLayerLongPressGesture(_:perform:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/GestureManager\/onLayerLongPress(_:handler:)","isActive":true}]}]]]}]}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Map-Content-Gestures-User-Guide"},"sections":[],"schemaVersion":{"major":0,"minor":3,"patch":0},"references":{"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/PolygonAnnotation":{"type":"topic","abstract":[],"navigatorTitle":[{"text":"PolygonAnnotation","kind":"identifier"}],"url":"\/documentation\/mapboxmaps\/polygonannotation","role":"symbol","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/PolygonAnnotation","fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"text":"PolygonAnnotation","kind":"identifier"}],"kind":"symbol","title":"PolygonAnnotation"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps":{"role":"collection","type":"topic","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps","url":"\/documentation\/mapboxmaps","abstract":[{"type":"text","text":"Interactive, thoroughly customizable maps for iOS powered by vector tiles and Metal."}],"kind":"symbol","title":"MapboxMaps"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Map":{"url":"\/documentation\/mapboxmaps\/map","kind":"symbol","title":"Map","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Map","type":"topic","navigatorTitle":[{"text":"Map","kind":"identifier"}],"role":"symbol","abstract":[{"type":"text","text":"A SwiftUI view that displays a Mapbox Map."}],"fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"text":"Map","kind":"identifier"}]},"doc://com.mapbox.MapboxMaps/documentation/Overview":{"type":"topic","abstract":[],"url":"\/documentation\/overview","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/Overview","title":"MapboxMaps Documentation","kind":"article","role":"collection"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Declarative-Map-Styling":{"kind":"article","url":"\/documentation\/mapboxmaps\/declarative-map-styling","abstract":[{"text":"Simplify runtime style manipulation with declarative syntax.","type":"text"}],"type":"topic","role":"article","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Declarative-Map-Styling","title":"Declarative Map Styling"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/SwiftUI-User-Guide":{"kind":"article","url":"\/documentation\/mapboxmaps\/swiftui-user-guide","abstract":[{"text":"Use Mapbox Maps in SwiftUI applications.","type":"text"}],"type":"topic","role":"article","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/SwiftUI-User-Guide","title":"SwiftUI User Guide"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Snapshotter":{"type":"topic","url":"\/documentation\/mapboxmaps\/snapshotter","kind":"symbol","title":"Snapshotter","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Snapshotter","role":"symbol","fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"kind":"identifier","text":"Snapshotter"}],"abstract":[{"text":"A utility class for capturing styled map snapshots.","type":"text"}],"navigatorTitle":[{"kind":"identifier","text":"Snapshotter"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/MapboxMap":{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/MapboxMap","role":"symbol","kind":"symbol","type":"topic","fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"MapboxMap"}],"title":"MapboxMap","navigatorTitle":[{"text":"MapboxMap","kind":"identifier"}],"url":"\/documentation\/mapboxmaps\/mapboxmap","abstract":[{"type":"text","text":"Provides access to the map model, including the camera, style, observable map events,"},{"text":" ","type":"text"},{"text":"and querying rendered features.","type":"text"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Map/onLayerTapGesture(_:perform:)":{"kind":"symbol","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Map\/onLayerTapGesture(_:perform:)","type":"topic","url":"\/documentation\/mapboxmaps\/map\/onlayertapgesture(_:perform:)","title":"onLayerTapGesture(_:perform:)","role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"onLayerTapGesture","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"text":"perform","kind":"externalParam"},{"kind":"text","text":": "},{"text":"MapLayerGestureHandler","kind":"typeIdentifier","preciseIdentifier":"s:10MapboxMaps22MapLayerGestureHandlera"},{"text":") -> ","kind":"text"},{"text":"Map","kind":"typeIdentifier","preciseIdentifier":"s:10MapboxMaps3MapV"}],"abstract":[{"text":"Adds a tap action to the specified layer.","type":"text"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/GestureManager/onMapLongPress":{"role":"symbol","title":"onMapLongPress","url":"\/documentation\/mapboxmaps\/gesturemanager\/onmaplongpress","type":"topic","abstract":[{"text":"A stream of long press events.","type":"text"}],"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/GestureManager\/onMapLongPress","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"onMapLongPress"},{"kind":"text","text":": "},{"text":"Signal","kind":"typeIdentifier","preciseIdentifier":"s:10MapboxMaps6SignalV"},{"text":"<","kind":"text"},{"text":"InteractionContext","preciseIdentifier":"s:10MapboxMaps18InteractionContextV","kind":"typeIdentifier"},{"text":">","kind":"text"}],"kind":"symbol"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Map/onMapLongPressGesture(perform:)":{"title":"onMapLongPressGesture(perform:)","abstract":[{"text":"Adds a long press gesture handler to the map.","type":"text"}],"url":"\/documentation\/mapboxmaps\/map\/onmaplongpressgesture(perform:)","type":"topic","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Map\/onMapLongPressGesture(perform:)","role":"symbol","kind":"symbol","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"onMapLongPressGesture","kind":"identifier"},{"kind":"text","text":"("},{"text":"perform","kind":"externalParam"},{"text":": (","kind":"text"},{"preciseIdentifier":"s:10MapboxMaps18InteractionContextV","kind":"typeIdentifier","text":"InteractionContext"},{"kind":"text","text":") -> "},{"preciseIdentifier":"s:s4Voida","text":"Void","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"text":"Map","preciseIdentifier":"s:10MapboxMaps3MapV","kind":"typeIdentifier"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Map/onLayerLongPressGesture(_:perform:)":{"kind":"symbol","url":"\/documentation\/mapboxmaps\/map\/onlayerlongpressgesture(_:perform:)","type":"topic","title":"onLayerLongPressGesture(_:perform:)","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Map\/onLayerLongPressGesture(_:perform:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"onLayerLongPressGesture","kind":"identifier"},{"text":"(","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"perform","kind":"externalParam"},{"kind":"text","text":": "},{"text":"MapLayerGestureHandler","kind":"typeIdentifier","preciseIdentifier":"s:10MapboxMaps22MapLayerGestureHandlera"},{"text":") -> ","kind":"text"},{"preciseIdentifier":"s:10MapboxMaps3MapV","text":"Map","kind":"typeIdentifier"}],"abstract":[{"type":"text","text":"Adds a long-press action to the specified layer."}],"role":"symbol"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/StyleManager":{"type":"topic","url":"\/documentation\/mapboxmaps\/stylemanager","kind":"symbol","title":"StyleManager","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/StyleManager","role":"symbol","fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"text":"StyleManager","kind":"identifier"}],"abstract":[{"type":"text","text":"Style manager is a base class for "},{"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/MapboxMap","type":"reference","isActive":true},{"type":"text","text":" and "},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Snapshotter"},{"type":"text","text":" that provides provides methods to manipulate Map Style at runtime."}],"navigatorTitle":[{"text":"StyleManager","kind":"identifier"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Work-with-visionOS":{"url":"\/documentation\/mapboxmaps\/work-with-visionos","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Work-with-visionOS","title":"Work with visionOS","role":"article","type":"topic","abstract":[{"text":"Use Mapbox Maps in native applications for Apple Vision Pro.","type":"text"}],"kind":"article"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/InteractionContext":{"role":"symbol","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/InteractionContext","title":"InteractionContext","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"text":"InteractionContext","kind":"identifier"}],"abstract":[{"type":"text","text":"A structure that defines context information for an interaction."}],"type":"topic","navigatorTitle":[{"text":"InteractionContext","kind":"identifier"}],"url":"\/documentation\/mapboxmaps\/interactioncontext","kind":"symbol"},"https://developer.apple.com/documentation/swiftui/gestures":{"url":"https:\/\/developer.apple.com\/documentation\/swiftui\/gestures","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/gestures","type":"link","title":"Gestures","titleInlineContent":[{"text":"Gestures","type":"text"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Map/onMapTapGesture(perform:)":{"kind":"symbol","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Map\/onMapTapGesture(perform:)","title":"onMapTapGesture(perform:)","role":"symbol","url":"\/documentation\/mapboxmaps\/map\/onmaptapgesture(perform:)","type":"topic","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"onMapTapGesture"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"perform"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","preciseIdentifier":"s:10MapboxMaps18InteractionContextV","text":"InteractionContext"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":") -> "},{"text":"Map","kind":"typeIdentifier","preciseIdentifier":"s:10MapboxMaps3MapV"}],"abstract":[{"type":"text","text":"Adds a tap gesture handler to the map."}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/Migrate-to-v11":{"abstract":[{"type":"text","text":"The Mapbox Maps SDK v11 introduces improvements to how Mapbox works on iOS platforms, as well as changes to how developers use the SDK. This document summarizes the most important changes - such as new features, deprecated APIs, and breaking changes - and walks you through how to upgrade an application using v10 of the Mapbox Maps SDK to v11."}],"kind":"article","url":"\/documentation\/mapboxmaps\/migrate-to-v11","title":"Migrate to v11 from v10","role":"article","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/Migrate-to-v11","type":"topic"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/GestureManager/onLayerLongPress(_:handler:)":{"kind":"symbol","role":"symbol","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/GestureManager\/onLayerLongPress(_:handler:)","title":"onLayerLongPress(_:handler:)","abstract":[{"text":"Adds a long press handler for the layer with ","type":"text"},{"type":"codeVoice","code":"layerId"},{"type":"text","text":"."}],"url":"\/documentation\/mapboxmaps\/gesturemanager\/onlayerlongpress(_:handler:)","type":"topic","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"onLayerLongPress"},{"text":"(","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"handler","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:10MapboxMaps22MapLayerGestureHandlera","text":"MapLayerGestureHandler","kind":"typeIdentifier"},{"kind":"text","text":") -> "},{"preciseIdentifier":"s:10MapboxMaps13AnyCancelableC","text":"AnyCancelable","kind":"typeIdentifier"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/GestureManager":{"abstract":[],"role":"symbol","navigatorTitle":[{"text":"GestureManager","kind":"identifier"}],"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/GestureManager","kind":"symbol","title":"GestureManager","url":"\/documentation\/mapboxmaps\/gesturemanager","type":"topic","fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"text":"GestureManager","kind":"identifier"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/MapView":{"kind":"symbol","role":"symbol","title":"MapView","fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"kind":"identifier","text":"MapView"}],"navigatorTitle":[{"text":"MapView","kind":"identifier"}],"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/MapView","type":"topic","url":"\/documentation\/mapboxmaps\/mapview","abstract":[]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/CircleAnnotation":{"abstract":[],"type":"topic","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"CircleAnnotation"}],"title":"CircleAnnotation","kind":"symbol","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"CircleAnnotation"}],"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/CircleAnnotation","url":"\/documentation\/mapboxmaps\/circleannotation"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/PointAnnotation":{"role":"symbol","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/PointAnnotation","title":"PointAnnotation","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"PointAnnotation"}],"abstract":[],"type":"topic","navigatorTitle":[{"kind":"identifier","text":"PointAnnotation"}],"url":"\/documentation\/mapboxmaps\/pointannotation","kind":"symbol"},"https://static-assets.mapbox.com/maps/ios/documentation/swiftui_gesture_handling_order_4.png":{"identifier":"https:\/\/static-assets.mapbox.com\/maps\/ios\/documentation\/swiftui_gesture_handling_order_4.png","type":"image","variants":[{"traits":["1x","light"],"url":"https:\/\/static-assets.mapbox.com\/maps\/ios\/documentation\/swiftui_gesture_handling_order_4.png"}],"alt":"Gesture handling order"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/AnnotationClusterGestureContext":{"navigatorTitle":[{"text":"AnnotationClusterGestureContext","kind":"identifier"}],"url":"\/documentation\/mapboxmaps\/annotationclustergesturecontext","kind":"symbol","title":"AnnotationClusterGestureContext","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"text":"AnnotationClusterGestureContext","kind":"identifier"}],"abstract":[{"text":"A structure that defines additional information about  map content gesture performed on annotations‚Äô cluster.","type":"text"}],"type":"topic","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/AnnotationClusterGestureContext","role":"symbol"},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/GestureManager/onLayerTap(_:handler:)":{"type":"topic","abstract":[{"text":"Adds a tap handler to the specified layer.","type":"text"}],"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"onLayerTap"},{"kind":"text","text":"("},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"kind":"text","text":", "},{"text":"handler","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"MapLayerGestureHandler","preciseIdentifier":"s:10MapboxMaps22MapLayerGestureHandlera","kind":"typeIdentifier"},{"kind":"text","text":") -> "},{"preciseIdentifier":"s:10MapboxMaps13AnyCancelableC","text":"AnyCancelable","kind":"typeIdentifier"}],"title":"onLayerTap(_:handler:)","kind":"symbol","identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/GestureManager\/onLayerTap(_:handler:)","url":"\/documentation\/mapboxmaps\/gesturemanager\/onlayertap(_:handler:)","role":"symbol"},"https://docs.mapbox.com/style-spec/guides/":{"url":"https:\/\/docs.mapbox.com\/style-spec\/guides\/","identifier":"https:\/\/docs.mapbox.com\/style-spec\/guides\/","type":"link","title":"Style","titleInlineContent":[{"type":"text","text":"Style"}]},"doc://com.mapbox.MapboxMaps/documentation/MapboxMaps/GestureManager/onMapTap":{"type":"topic","title":"onMapTap","role":"symbol","url":"\/documentation\/mapboxmaps\/gesturemanager\/onmaptap","fragments":[{"text":"var","kind":"keyword"},{"kind":"text","text":" "},{"text":"onMapTap","kind":"identifier"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"Signal","preciseIdentifier":"s:10MapboxMaps6SignalV"},{"text":"<","kind":"text"},{"text":"InteractionContext","kind":"typeIdentifier","preciseIdentifier":"s:10MapboxMaps18InteractionContextV"},{"kind":"text","text":">"}],"identifier":"doc:\/\/com.mapbox.MapboxMaps\/documentation\/MapboxMaps\/GestureManager\/onMapTap","kind":"symbol","abstract":[{"type":"text","text":"A stream of single tap events on the map."}]}},"variantOverrides":[{"traits":[{"interfaceLanguage":"occ"}],"patch":[{"op":"replace","path":"\/identifier\/interfaceLanguage","value":"occ"}]}]}